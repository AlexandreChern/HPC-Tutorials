---
layout: tutorial_page
title: "Condition Variables Overview"
release_number: UCRL-MI-133316
author: Blaise Barney, Lawrence Livermore National Laboratory
---

Condition variables provide yet another way for threads to synchronize. While mutexes implement synchronization by controlling thread access to data, condition variables allow threads to synchronize based upon the actual value of data.

Without condition variables, the programmer would need to have threads continually polling (possibly in a critical section), to check if the condition is met. This can be very resource consuming since the thread would be continuously busy in this activity. A condition variable is a way to achieve the same goal without polling.

A condition variable is always used in conjunction with a mutex lock.

A representative sequence for using condition variables is shown below.

<table style="border-collapse:collapse;border-spacing:0" class="tg"><thead><tr><th style="border-color:inherit;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;font-weight:normal;overflow:hidden;padding:10px 5px;position:-webkit-sticky;position:sticky;text-align:left;top:-1px;vertical-align:top;will-change:transform;word-break:normal"><span style="font-weight:bold;font-style:normal">Main Thread</span><br>Declare and initialize global data/variables which require synchronization (such as "count")<br>Declare and initialize a condition variable object <br>Declare and initialize an associated mutex <br>Create threads A and B to do work</th><th style="border-color:inherit;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;font-weight:normal;overflow:hidden;padding:10px 5px;position:-webkit-sticky;position:sticky;text-align:left;top:-1px;vertical-align:top;will-change:transform;word-break:normal"></th></tr></thead><tbody><tr><td style="border-color:inherit;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"><span style="font-weight:bold;font-style:normal">Thread A</span><br>Do work up to the point where a certain condition must occur (such as "count" must reach a specified value)<br>Lock associated mutex and check value of a global variable<br>Call <span style="font-weight:bold">pthread_cond_wait()</span> to perform a blocking wait for signal from Thread-B. Note that a call to <span style="font-weight:bold">pthread_cond_wait()</span> automatically and atomically unlocks the associated mutex variable so that it can be used by Thread-B.<br>When signalled, wake up. Mutex is automatically and atomically locked.<br>Explicitly unlock mutex<br>Continue</td><td style="border-color:inherit;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"><span style="font-weight:bold;font-style:normal">Thread B</span><br>Do work<br>Lock associated mutex<br>Change the value of the global variable that Thread-A is waiting upon. <br>Check value of the global Thread-A wait variable. If it fulfills the desired condition, signal Thread-A.<br>Unlock mutex. <br>Continue</td></tr><tr><td style="border-color:inherit;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"><span style="font-weight:bold;font-style:normal">Main Thread</span><br>Join / Continue</td><td style="border-color:inherit;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td></tr></tbody></table>
